{"version":3,"sources":["webpack:///./src/views/planning/Planning.vue?e0d7","webpack:///src/views/planning/Planning.vue","webpack:///./src/views/planning/Planning.vue?146c","webpack:///./src/views/planning/Planning.vue","webpack:///./src/views/planning/Planning.vue?8712"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","on","click","$event","showModal","_v","name","close","slot","model","value","callback","$$v","nameEvent","expression","type","dateStart","timeStart","dateEnd","staticClass","variant","addEvent","resetModal","removeEvent","_e","ref","events","config","event-selected","eventSelected","staticRenderFns","Planningvue_type_script_lang_js_","data","timeEnd","currentEvent","defaultView","mounted","localStorage","getItem","JSON","parse","e","removeItem","methods","newEvent","title","start","end","console","log","$refs","calendar","$emit","push","saveEvents","refreshEvents","event","_id","parsed","stringify","setItem","jsEvent","view","_i","res","split","resEnd","planning_Planningvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Planning_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Planning_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-0aa8995b.772f6f25.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{attrs:{\"id\":\"show-modal\"},on:{\"click\":function($event){_vm.showModal = true}}},[_vm._v(\"Add event\")]),(_vm.showModal)?_c('modal',{attrs:{\"name\":\"modal\"},on:{\"close\":function($event){_vm.showModal = false}}},[_c('h3',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Add an event\")]),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('label',[_vm._v(\"Event :\")]),_c('br'),_c('b-form-input',{model:{value:(_vm.nameEvent),callback:function ($$v) {_vm.nameEvent=$$v},expression:\"nameEvent\"}}),_c('br'),_c('label',[_vm._v(\"Date begin :\")]),_c('br'),_c('b-form-input',{attrs:{\"type\":\"date\"},model:{value:(_vm.dateStart),callback:function ($$v) {_vm.dateStart=$$v},expression:\"dateStart\"}}),_c('br'),_c('label',[_vm._v(\"Time begin :\")]),_c('br'),_c('b-form-input',{attrs:{\"type\":\"time\"},model:{value:(_vm.timeStart),callback:function ($$v) {_vm.timeStart=$$v},expression:\"timeStart\"}}),_c('br'),_c('label',[_vm._v(\"Date end :\")]),_c('br'),_c('b-form-input',{attrs:{\"type\":\"date\"},model:{value:(_vm.dateEnd),callback:function ($$v) {_vm.dateEnd=$$v},expression:\"dateEnd\"}}),_c('br'),_c('label',[_vm._v(\"Time end :\")]),_c('br'),_c('b-form-input',{attrs:{\"type\":\"time\",\"name\":\"timeEnd\"}}),_c('br')],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('b-button',{staticClass:\"buttonConfirm\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){_vm.addEvent()}}},[_vm._v(\"Confirm event\")]),_c('b-button',{staticClass:\"buttonCancel\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){_vm.resetModal()}}},[_vm._v(\"Cancel\")]),_c('b-button',{staticClass:\"buttonCancel\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){_vm.removeEvent()}}},[_vm._v(\"Delete\")])],1)]):_vm._e(),_c('full-calendar',{ref:\"calendar\",attrs:{\"events\":_vm.events,\"config\":_vm.config},on:{\"event-selected\":_vm.eventSelected}}),_c('script',{attrs:{\"type\":\"text/x-template\",\"id\":\"modal-template\"}},[_vm._v(\"\\n    <transition name=\\\"modal\\\">\\n      <div class=\\\"modal-mask\\\">\\n        <div class=\\\"modal-wrapper\\\">\\n          <div class=\\\"modal-container\\\">\\n            <div class=\\\"modal-header\\\">\\n              <slot name=\\\"header\\\">\\n              </slot>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n              <slot name=\\\"body\\\">\\n              </slot>\\n            </div>\\n            <div class=\\\"modal-footer\\\">\\n              <slot name=\\\"footer\\\">\\n              </slot>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </transition>\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <button id=\"show-modal\" @click=\"showModal = true\">Add event</button>\r\n    <!-- use the modal component, pass in the prop -->\r\n    <modal name=\"modal\" v-if=\"showModal\" @close=\"showModal = false\">\r\n      <h3 slot=\"header\">Add an event</h3>\r\n      <div slot=\"body\">\r\n        <label>Event :</label><br/>\r\n        <b-form-input v-model=\"nameEvent\"/><br/>\r\n        <label>Date begin :</label><br/>\r\n        <b-form-input type=\"date\" v-model=\"dateStart\" /><br/>\r\n        <label>Time begin :</label><br/>\r\n        <b-form-input type=\"time\" v-model=\"timeStart\" /><br/>\r\n        <label>Date end :</label><br/>\r\n        <b-form-input type=\"date\" v-model=\"dateEnd\" /><br/>\r\n        <label>Time end :</label><br/>\r\n        <b-form-input type=\"time\" name=\"timeEnd\" /><br/>     \r\n      </div>\r\n      <div slot=\"footer\">\r\n        <b-button variant=\"primary\" class=\"buttonConfirm\" @click=\"addEvent()\">Confirm event</b-button>\r\n        <b-button variant=\"danger\" class=\"buttonCancel\" @click=\"resetModal()\">Cancel</b-button>\r\n        <b-button variant=\"danger\" class=\"buttonCancel\" @click=\"removeEvent()\">Delete</b-button>\r\n      </div>\r\n    </modal>\r\n    <full-calendar :events=\"events\" :config=\"config\" @event-selected=\"eventSelected\" ref=\"calendar\"></full-calendar>\r\n\r\n    <!-- Modal -->\r\n    <script type=\"text/x-template\" id=\"modal-template\">\r\n      <transition name=\"modal\">\r\n        <div class=\"modal-mask\">\r\n          <div class=\"modal-wrapper\">\r\n            <div class=\"modal-container\">\r\n              <div class=\"modal-header\">\r\n                <slot name=\"header\">\r\n                </slot>\r\n              </div>\r\n              <div class=\"modal-body\">\r\n                <slot name=\"body\">\r\n                </slot>\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                <slot name=\"footer\">\r\n                </slot>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n    </script>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      showModal: false,\r\n      nameEvent: '',\r\n      dateStart: '',\r\n      dateEnd: '',\r\n      timeStart: '',\r\n      timeEnd: '',\r\n      currentEvent: '',\r\n      events: [],\r\n      config: {\r\n        defaultView: \"listWeek\"\r\n      }  \r\n    }\r\n  },\r\n  mounted() {\r\n    if(localStorage.getItem('events')) {\r\n      try {\r\n        this.events = JSON.parse(localStorage.getItem('events'));\r\n      } catch(e) {\r\n        localStorage.removeItem('events');\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    addEvent() {\r\n      var newEvent = {};\r\n      newEvent.title = this.nameEvent\r\n      if(!this.timeStart) {\r\n        newEvent.start = this.dateStart\r\n      } else {\r\n        newEvent.start = this.dateStart + \"T\" + this.timeStart + \":00\"\r\n      }\r\n\r\n      if(!this.timeEnd) {\r\n        newEvent.end = this.dateEnd\r\n      } else {\r\n        newEvent.start = this.dateEnd + \"T\" + this.timeEnd + \":00\"\r\n      }\r\n\r\n      if(this.currentEvent) {\r\n        console.log('1', localStorage)\r\n        console.log('avant', this.events)\r\n        this.removeEvent(this.currentEvent)\r\n        // localStorage.removeItem('events', JSON.stringify(this.events))\r\n        \r\n        this.$refs.calendar.$emit('updateEvent', this.currentEvent)\r\n        console.log('2', localStorage)\r\n      }\r\n      console.log('new', newEvent)\r\n      this.events.push(newEvent)\r\n      this.saveEvents();\r\n      this.showModal= false;\r\n      this.refreshEvents();\r\n    },\r\n    removeEvent: function(event) {\r\n      console.log(event._id)\r\n      this.$refs.calendar.$emit('remove-event', event._id)\r\n      localStorage.removeItem('events', event._id)\r\n      console.log(\"delete\", event)\r\n    },\r\n    saveEvents() {\r\n      let parsed = JSON.stringify(this.events);\r\n      localStorage.setItem('events', parsed);\r\n    },\r\n    refreshEvents() {\r\n      this.$refs.calendar.$emit('refetch-events')\r\n    },\r\n    eventSelected: function(event, jsEvent, view) {\r\n      this.showModal = true;\r\n      this.nameEvent = event.title;\r\n      var start = event.start._i;\r\n      var res = start.split(\"T\");\r\n      this.dateStart = res[0];\r\n      this.timeStart = res[1];\r\n      if(event.end) {\r\n        var end = event.end._i;\r\n        var resEnd = start.split(\"T\");\r\n        this.dateEnd = resEnd[0];\r\n        this.timeEnd = resEnd[1];\r\n      }\r\n      this.currentEvent = event;\r\n    },\r\n    resetModal() {\r\n      this.showModal = false;\r\n      this.nameEvent = '';\r\n      this.dateStart = '';\r\n      this.dateEnd = '';\r\n      this.timeStart = '';\r\n      this.timeEnd = '';\r\n    }\r\n  },\r\n  \r\n}\r\n</script>\r\n\r\n<style>\r\n.modal-mask {\r\n  position: fixed;\r\n  z-index: 9998;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, .5);\r\n  display: table;\r\n  transition: opacity .3s ease;\r\n}\r\n\r\n.modal-wrapper {\r\n  display: table-cell;\r\n  vertical-align: middle;\r\n}\r\n\r\n.modal-container {\r\n  width: 500px;\r\n  margin: 0px auto;\r\n  padding: 20px 30px;\r\n  background-color: #fff;\r\n  border-radius: 2px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, .33);\r\n  transition: all .3s ease;\r\n  font-family: Helvetica, Arial, sans-serif;\r\n}\r\n\r\n.modal-header h3 {\r\n  margin-top: 0;\r\n  color: #42b983;\r\n}\r\n\r\n.modal-body {\r\n  margin: 20px 0;\r\n}\r\n\r\n.modal-enter {\r\n  opacity: 0;\r\n}\r\n\r\n.modal-leave-active {\r\n  opacity: 0;\r\n}\r\n\r\n.modal-enter .modal-container,\r\n.modal-leave-active .modal-container {\r\n  -webkit-transform: scale(1.1);\r\n  transform: scale(1.1);\r\n}\r\n\r\n.buttonConfirm {\r\n  margin-right: 1em;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Planning.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Planning.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Planning.vue?vue&type=template&id=b25fb92a&\"\nimport script from \"./Planning.vue?vue&type=script&lang=js&\"\nexport * from \"./Planning.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Planning.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Planning.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Planning.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Planning.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}